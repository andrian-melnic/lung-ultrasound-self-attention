{
  "version": "0.2.0",
  "configurations": [

    {
      "name": "full_resnet18",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/main.py",
      "console": "integratedTerminal",
      "args": [
        "--model", "resnet18",
        "--working_dir_path", ".",
        "--dataset_h5_path", "data/iclus/dataset.h5",
        "--hospitaldict_path", "data/iclus/hospitals-patients-dict.pkl",
        "--rseed", "21",
        "--batch_size", "128",
        "--lr","0.0005",
        "--optimizer", "sgd",
        "--max_epochs", "100",
        "--num_workers", "8",
        "--accumulate_grad_batches", "1",
        "--accelerator", "gpu",
        "--precision", "32",
        "--disable_warnings", "True",
        // "--checkpoint_path", "last"
      ]
    },
    {
      "name": "full_timm_bot",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/main.py",
      "console": "integratedTerminal",
      "justMyCode": false,
      "args": [
        "--model", "timm_bot",
        "--mode", "train",  
        "--working_dir_path", ".",
        "--dataset_h5_path", "data/iclus/dataset.h5",
        "--hospitaldict_path", "data/iclus/hospitals-patients-dict.pkl",
        "--rseed", "21",
        "--train_ratio", "0.7",
        // "--trim_test",
        "--batch_size", "32",
        "--optimizer", "sgd",
        "--lr","0.00005",
        "--weight_decay", "0.0001",
        "--momentum", "0.01",
        "--max_epochs", "50",
        "--num_workers", "0",
        "--accumulate_grad_batches", "1",
        "--accelerator", "gpu",
        "--precision", "32",
        "--disable_warnings",
        "--pretrained",
        // "--checkpoint_path", "checkpoints/pretrained_timm_bot/sgd/0.0001_32/epoch=29-step=37560.ckpt"
        "--checkpoint_path", "last"
      ]
    },
    {
      "name": "eval_resnet18",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/main.py",
      "console": "integratedTerminal",
      "args": [
        "--model", "resnet18",
        "--working_dir_path", ".",
        "--dataset_h5_path", "data/clinical_eval/dataset.h5",
        "--hospitaldict_path", "data/clinical_eval/hospitals-patients-dict.pkl",
        "--rseed", "21",
        "--batch_size", "4",
        "--lr","0.0001",
        "--optimizer", "sgd",
        "--max_epochs", "20",
        "--num_workers", "8",
        "--accumulate_grad_batches", "4",
        "--accelerator", "mps",
        "--precision", "16",
        "--disable_warnings", "True",
        // "--checkpoint_path", "last"
      ]
    },
    {
      "name": "full_google_vit",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/main.py",
      "console": "integratedTerminal",
      "args": [
        "--model", "google_vit",
        "--working_dir_path", ".",
        "--dataset_h5_path", "data/iclus/dataset.h5",
        "--hospitaldict_path", "data/iclus/hospitals-patients-dict.pkl",
        "--train_ratio", "0.3",
        "--rseed", "21",
        "--batch_size", "32",
        "--lr","0.0001",
        "--optimizer", "sgd",
        "--max_epochs", "20",
        "--num_workers", "0",
        "--accumulate_grad_batches", "4",
        "--accelerator", "gpu",
        "--precision", "16-mixed",
      ]
    },
    {
      "name": "eval_google_vit",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/main.py",
      "console": "integratedTerminal",
      "args": [
        "--model", "google_vit",
        "--working_dir_path", ".",
        "--dataset_h5_path", "data/clinical_eval/dataset.h5",
        "--hospitaldict_path", "data/clinical_eval/hospitals-patients-dict.pkl",
        "--rseed", "21",
        "--batch_size", "4",
        "--lr","0.0001",
        "--optimizer", "sgd",
        "--max_epochs", "10",
        "--num_workers", "8",
        "--accumulate_grad_batches", "8",
        "--accelerator", "mps",
        "--precision", "16-mixed"
      ]
    },
    {
      "name": "eval_beit",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/main.py",
      "console": "integratedTerminal",
      "args": [
        "--model", "google_vit",
        "--working_dir_path", ".",
        "--dataset_h5_path", "data/clinical_eval/test_dataset_clinic_eval.h5",
        "--hospitaldict_path", "data/clinical_eval/test_clinic_eval_hospitaldict.pkl",
        "--rseed", "21",
        "--batch_size", "4",
        "--lr","0.0001",
        "--optimizer", "sgd",
        "--max_epochs", "10",
        "--num_workers", "8",
        "--accumulate_grad_batches", "4",
        "--accelerator", "mps",
        "--precision", "16-mixed"
      ]
    },
    {
      "name": "full_beit",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/main.py",
      "console": "integratedTerminal",
      "args": [
        "--model", "beit",
        "--working_dir_path", ".",
        "--dataset_h5_path", "data/iclus/dataset.h5",
        "--hospitaldict_path", "data/iclus/hospitals-patients-dict.pkl",
        "--rseed", "21",
        "--train_ratio", "0.8",
        "--batch_size", "16",
        "--lr","0.0001",
        "--optimizer", "sgd",
        "--max_epochs", "20",
        "--num_workers", "0",
        "--accumulate_grad_batches", "4",
        "--accelerator", "gpu",
        "--precision", "32",
        "--disable_warnings", "True",
        // "--checkpoint_path", "last"
      ]
    }
  ]
}